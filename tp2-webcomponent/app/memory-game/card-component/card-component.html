<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../../bower_components/iron-signals/iron-signals.html">
<dom-module id="card-component">
    <link rel="import" type="css" href="style.css">
    <template>
        <!-- TODO : écoute des signaux iron-signal provenant d'un autre composant -->
        <iron-signals on-iron-signal...></iron-signals>
        <iron-signals on-iron-signal...></iron-signals>
        <!-- Notre carte lance la fonction flip sur l'évènement click-->
        <div class="card" on-click="click">
            <div class="flip">
                <paper-material elevation="3"  class="front">
                    <paper-ripple></paper-ripple>
                    <p>{{family}}</p>
                </paper-material>
                <paper-material elevation="3"  class="back">
                    <paper-ripple></paper-ripple>
                </paper-material>
            </div>
        </div>
    </template>

    <script>
        var CardComponent = Polymer({
            is : "card-component",
            properties : {
                family : {
                    value : ""
                }
            },
            factoryImpl: function(family, backgroundColor) {
                this.family = family;
                Polymer.dom(this.root).querySelector('.front').style.backgroundColor = backgroundColor;
            },
            id : "", //identifiant unique de la carte
            disabled : false, // permet de savoir si la carte est déja retournée ou non
            //évènement à la création du composant
            created: function() {
                //Initialisation d'un id unique
                this.id = Math.random();
            },
            // fonction lors du clic sur la carte
            click : function (event){
                <!-- TODO : retournement de la carte et envoi d'un event au composant parent-->
            },
            //fonction pour cacher la carte
            flipBack : function (event, detail) {
                <!-- TODO : retournement de la carte en face arrière-->
            },
            //fonction pour faire un toggle de la carte
            flip : function (event) {
                //On toggle la classe flippedFront
                Polymer.dom(this.root).querySelector('.front').classList.toggle('flippedFront');
                //On toggle la classe flippedBack
                Polymer.dom(this.root).querySelector('.back').classList.toggle('flippedBack');
            }
        });
    </script>
</dom-module>